## Как использовать систему контроля версий на примере GitHub.

### В целом о системах контроля версий (VCS).

Система контроля версий очень полезный и нужный инструмент при разработке проектов, особенно если это происходит в команде.

Она позволяет хранить промежуточные состояния проекта, видеть изменения которые вносятся в разные моменты времени, в чем их суть и кто их сделал.
Это достигается за счет использования коммитов (`Commits`).

Система контроля версий позволяет использовать ветки (`Branches`), которые хранят в себе изменения, не связанные с другими ветками.
Ветки можно объединять, за счет чего изменения (_коммиты_) можно перенести из одной в другую.

Система контроля версий всегда работает с репозиториями, которые могут быть удаленными (_расположенными на сервере_) и локальными (_расположенные на конкретной ЭВМ_).
За счет методов отправки изменений (_коммитов_) на локальный сервер и получение их с удаленного, происходит синхронизация локального и удаленного проекта, а точнее их веток.

Существует также возможность вклада в развитие **Open Source** проекта, за счет использования ответвления проекта (_Fork_) и внесения в него изменений, 
с дальнейшим открытием запроса на вытягивания (_соединения с исходным репозиторием_). Если этот запрос проверят и одобрят, изменения попадут в проект, 
которым могут пользоваться множество других разработчиков.

**Примечание**:
Область систем контроля версий достаточно обширна и зачастую требует самостоятельного, дополнительного изучения.
Данная документация лишь поверхностно описывает то, как она работает и как её использовать, но её многовероятно будет недостаточно.
Но в целом, понять её просто и быстро, а использовать - удобно и **необходимо**.



### Клонирование удаленного репозитория на локальную машину.

Клонирование репозитория (_Clone_) - позволяет загрузить проект, расположенный на удаленном сервере на ЭВМ для использования или изучения.

Чтобы склонировать репозиторий в IntelliJ IDEA необходимо:
- Открыть IntelliJ IDEA
- Если открыт какой либо проект - его необходимо закрыть | `File` > `Close Project`
- Во вкладке `projects` выбрать `Get from VCS`
- В поле `Repository URL` и вставить ссылку на удаленный репозиторий. В рамках данного проекта нужно использовать ссылку:


    https://github.com/askozadaev/dnevnik
- Проект должен быть загружен и открыт в среде разработке.

В случаях, когда нужно склонировать другой репозиторий GitHub, достаточно перейти в него по ссылке в браузере
и нажать кнопку `<> Code` и в открывшемся окне скопировать ссылку для дальнейшего использования либо в ваших IDE 
либо в других, соответствующих инструментах.

**Важное примечание**: При клонировании проекта и без соответствующего доступа к нему 
вы не сможете вносить в него изменения в удаленном репозитории, но сможете редактировать его локально. 
Чтобы предложить свои изменения в исходный репозиторий, нужно сделать его ответвление (Fork)
для своего аккаунта, внести необходимые изменения и сделать запрос на вытягивание (Pull Request) в исходный. 
Далее можно будет ознакомиться с тем, как это сделать.


### Fork
Fork - Ответвление исходного проекта, в собственный репозиторий. По факту, данное действие клонирует чужой, 
удаленный репозиторий в ваш личный, удаленный репозиторий, к которому вы будете иметь полный доступ.

В основном используется для того, чтобы помочь в развитии **Open Source** проектов или создания ответвлений разработки,
в случаях, когда разработчик, сообщество или команда имеет альтернативное виденье дальнейшего развития проекта.

В случаях, когда необходимо сделать `Fork` проекта, необходимо перейти в него по ссылке в браузере
и нажать кнопку `Fork` > указать название репозитория в вашем аккаунте и нажать > `Create fork`.

### Commits

Commit - фрагмент изменения проекта, своего рода отпечаток текущего его состояния. Возможно его удобнее понять как контрольную точку.
Когда вносятся некоторые изменения в проект, их можно зафиксировать в коммите, тем самым он станет некой новой контрольной 
точкой, отображающей, как проект будет выглядеть на момент этих изменений. 
Далее, после создания нескольких коммитов (фрагментов изменений) будет возможно посмотреть состояния проекта на различных стадиях используя их.

В основном коммиты делаются в локальных репозиториях, которые в последствии можно отправить на удаленный.
В этой документации коммиты предлагается делать в среде разработке (IDE), но помимо этого их можно создавать с помощью команд
в утилите `git`. Зачастую среды разработки как раз таки и используют непосредственно утилиту `git` при создании коммитов через интерфейс среды разработки.

В IntelliJ IDEA коммит можно создать с помощью раздела `Commit`, который располагается в левой части экрана, рядом с разделом `Project`.
При его открытии, можно выбрать файлы (или даже определенные их части, выбрав конкретные строки), которые были изменены локально для помещения их в коммит, 
в нижней же части меню создания коммита будет необходимо указать комментарий, информирующий о том, что было сделано в выбранных, измененных файлах. 
После этого можно сформировать коммит кнопкой `Commit`. 

**Важное примечание**: 
После создания коммита, он будет создан только в локальном репозитории, его отправка в удаленный репозиторий будет рассмотрена позже.

**Примечание**: Коммит должен описывать минимальные изменения и должен быть компактным и точным.
Чем меньше коммит и чем он точнее отображает микро изменения - тем лучше.
Есть и исключения, например когда принимается большая группа изменений в следствии кардинального изменения проекта.


**Пример хороших коммитов**:
- Была добавлена функция добавляющая некоторый функционал в исходный код ПО. Комментарий к коммиту, описывает эти изменения (`Add some function`).
- Эта же функция была несколько модернизирована, комментарий описывает суть изменений (`Update | add check in some function`).
- Функция удаляется, комментарий отражает удаление (`Delete some function`).

Для лучшей читаемости в начало комментария коммита лучше вставлять тип изменений (`add`, `delete`, `update`, `fix` и подобные), 
которые упрощают поиск необходимых изменений. Рекомендуется использовать простые комментарии на английском языке.


### Push and Update Project

Названия описанных ниже действий используются в IntelliJ IDEA, но могут отличаться в других средах и консольной утилите `git`.

`Push` - отправка сформированных, локальных коммитов в удаленный репозиторий.

`Update Project` - загрузка отсутствующих коммитов из удаленного репозитория в локальный.

Данные методы позволяют выполнять синхронизацию локального и удаленного репозитория. 

**Например**: были внесены некоторые изменения, но не в полной мере. Для полной работоспособности проекта нехватает финальных штрихов. 
В этом случае нет смысла отправлять изменения на удаленный репозиторий. Если же их отправить, то при получении неполных 
изменений другими разработчиками, есть вероятность повреждения проекта. Из-за повреждения проекта есть вероятность его неработоспособности, 
вследствие чего, другие разработчики не смогут заниматься работой в других частях проекта, а будут разбираться в возникшей проблеме.

Группу коммитов лучше отправлять только тогда, когда изменения в полной мере закончены и все тесты проекта выполняются успешно. 
(При условии, что проект разрабатывается с применением автотестов.)

Чтобы получить изменения от других разработчиков, нужно воспользоваться методом обновления проекта, при выполнении
которого, будет произведена синхронизация локального проекта с удаленным. Коммиты, которые отсутствуют в локальном репозитории будут загружены, 
а локальные и неотправленные, будут ожидать изменений, отправки, либо вовсе удаления.

### Pull Request

Pull Request (_запрос на вытягивание_) - соединение изменений веток проекта или репозиториев.

В основном используется, для объединения изменений в двух ветках проекта. 

**Например**: есть ветка `main` (главная), в ней собираются все стабильные изменения проекта для 
боевого сервера, которым пользуются клиенты.
В неё не должны попадать изменения, не проверенные временем и опытными разработчиками. 
Такие изменения могут вызывать неявные ошибки, из которых могут возникнуть критические проблемы приложения и нарушение работоспособности.

Также есть ветка `develop` (ветка разработки), которой пользуются разработчики при написании и тестировании их кода. 
Там изменения собираются до достижения рубежа новой версии. Скажем, была версия проекта 1.0, потом собралось достаточное 
количество изменений, они были проверены и протестированы, стали готовы к объединению с веткой `main` - 
выполняется объединение изменений и версия проекта повышается до 1.1, боевой сервер загружает эти обновления и перезапускается.

Но запрос на вытягивание также часто используется, для того, чтобы внести вклад в развитие другого проекта. 
За счет использования метода ответвления (_Fork_) возможно создание собственной копии некоторого проекта, в который потом 
возможно вносить некоторые изменения и тестировать их. Если появляется уверенность в том, что внесенные изменения могут 
быть полезны исходному проекту, можно открыть `Pull Request` в ответвленном репозитории. 

Так, при наличии изменений в ответвленном репозитории (_На сайте GitHub_), они должны отображаться над файлами проекта и рядом с которыми должны быть доступна кнопка `Contribute`.
Нажав на данную кнопку отобразиться меню с предложением открытия запроса на вытягивание (`Open pull request`).
После его открытия можно ознакомиться с изменениями и подтвердить отправку запроса.
После подтверждения отправки, главные разработчики исходного проекта получат соответствующие уведомления, после чего смогут ознакомиться 
с полученным запросом. Они должны будут проверить изменения, дать обратную связь, если есть проблемы, либо принять его, если изменения полезны и работоспособны.



